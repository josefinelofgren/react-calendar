(this["webpackJsonpcalender-todo"]=this["webpackJsonpcalender-todo"]||[]).push([[0],{78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},83:function(e,a,t){"use strict";t.r(a);var s=t(3),n=t.n(s),c=t(27),r=t.n(c),i=t(35),o=t(36),l=t(41),d=t(40),b=t(12),u=t(13),j=t(33);t(63),t(67);j.a.initializeApp({apiKey:"AIzaSyA9-907emHXJmKhtrX-ccHSaFqQQ1pGmKI",authDomain:"calender-todo-374ad.firebaseapp.com",databaseURL:"https://calender-todo-374ad-default-rtdb.firebaseio.com/",projectId:"calender-todo-374ad",storageBucket:"calender-todo-374ad.appspot.com",messagingSenderId:"369571814179",appId:"1:369571814179:web:b68645c23680bb71faca96",measurementId:"G-Q8CJ9ZF8WH"});new j.a.auth.GoogleAuthProvider,j.a.auth();var h=j.a,m=t(10),O=t.n(m),f=(t(34),t(23)),v=t(85),x=t(57),k=t(11),p=t(20),g=t(31),D=t(58),N=t(30),w=t(1);var S=function(e){var a=e.user;return Object(w.jsx)(D.a.Brand,{children:Object(w.jsxs)(b.b,{className:a?"fw-bold text-light navbar-brand-sidenav brand":"fw-bold text-dark brand",to:"/",children:[Object(w.jsx)(N.a,{className:"text-color"})," ","Calendar-todo"]})})};var Y=function(e){var a=e.state,t=e.showState,s=e.className;return Object(w.jsx)(b.b,{to:"#",className:a?"menu-btn is-active ".concat(s):"menu-btn ".concat(s),onClick:t,children:Object(w.jsx)("div",{className:a?"menu-burger is-active ".concat(s):"menu-burger ".concat(s)})})};var M=function(e){var a=e.sidenav,t=e.showSidenav,n=e.user,c=e.logOutUser,r=e.howManyTasks,i=Object(u.f)(),o=Object(s.useState)(null),l=Object(k.a)(o,2),d=l[0],j=l[1];return Object(s.useEffect)((function(){j(0!==r)}),[r]),Object(w.jsx)(D.a,{bg:"transparent",expand:"lg",className:n?"shadow-5-strong border-bottom-thin":"",children:Object(w.jsxs)(f.a,{fluid:!0,className:"nav",children:[!n&&Object(w.jsx)(S,{}),n&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(Y,{state:a,showState:t})}),Object(w.jsxs)("div",{className:"nav-link",children:[!n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(b.b,{className:"link text-secondary no-user",to:"/react-calendar/users/login",children:"Logga in"}),Object(w.jsx)(b.b,{className:"link text-secondary no-user",to:"/react-calendar/users/signup",children:"Skapa konto"})]}),n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(b.b,{className:"link text-secondary nav-icon user",onClick:function(e){return c(e,i)},to:"/react-calendar",children:[Object(w.jsx)(g.b,{className:"icon-btn"}),Object(w.jsx)("div",{className:"info-bubble logout",children:"Logga ut"})]}),Object(w.jsxs)(b.b,{className:"link text-secondary nav-icon user",to:"#",children:[Object(w.jsx)(p.d,{className:"icon-btn"}),Object(w.jsx)("div",{className:"info-bubble notification",children:"Antal uppgifter kvar med deadline idag eller tidigare"}),Object(w.jsx)("div",{className:d?"notification-bubble text-white fw-bold is-active":"notification-bubble text-white fw-bold",children:r})]})]})]})]})})},y=t(21);var C=function(e){var a=e.user,t=Object(u.f)();return null!==a?t.push("/react-calendar/app/calendar"):t.push("/react-calendar/"),Object(w.jsx)(f.a,{children:Object(w.jsxs)("div",{className:"textbox startpage",children:[Object(w.jsx)("h1",{className:"fw-bold display-3",children:"Organisera livet med Calendar-todo"}),Object(w.jsx)("br",{}),Object(w.jsx)(y.a,{className:"fw-bold bg-color border-color",onClick:function(){return t.push("/react-calendar/users/signup")},children:"Kom ig\xe5ng"}),Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),Object(w.jsxs)("p",{children:["Har du redan ett konto?",Object(w.jsx)(b.b,{className:"text-color",to:"/react-calendar/users/login",children:" Logga in"})]})]})})};var I=function(e){for(var a=e.clone().startOf("month").startOf("week"),t=e.clone().endOf("month").endOf("week"),s=a.clone().subtract(1,"day"),n=[];s.isBefore(t,"day");)n.push(Array(7).fill(0).map((function(){return s.add(1,"day").clone()})));return n};function T(e,a){return function(e){return e.isSame(new Date,"day")}(e)?"today":function(e){return e.isBefore(new Date,"day")}(e)?"before":""}var F=function(e){var a=e.value,t=e.setValue;return Object(w.jsx)("div",{className:"calendar-header",children:Object(w.jsxs)("div",{className:"calendar-header-content fw-bold",children:[Object(w.jsx)("div",{className:"calendar-icon inline-block",onClick:function(){return t(a.clone().subtract(1,"month"))},children:Object(w.jsx)(p.a,{})}),Object(w.jsxs)("div",{className:"calendar-month inline-block",children:[a.format("MMMM")," ",a.format("YYYY")]}),Object(w.jsx)("div",{className:"calendar-icon inline-block",onClick:function(){return t(a.clone().add(1,"month"))},children:Object(w.jsx)(p.b,{})})]})})},L=t(86);var A=function(e){var a=e.day,t=e.value,n=e.addTask,c=Object(s.useState)(""),r=Object(k.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(""),d=Object(k.a)(l,2),b=d[0],u=d[1],j=Object(s.useState)(""),h=Object(k.a)(j,2),m=h[0],O=h[1],f=Object(s.useState)(""),v=Object(k.a)(f,2),x=v[0],p=v[1];return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(L.a,{className:"".concat(function(e,a){return function(e,a){return a.isSame(e,"day")}(e,a)?"selected":""}(a,t)," input-task"),onSubmit:function(e){return function(e){e.preventDefault(),n(i,b,m,x),o(""),u(""),O(""),p("")}(e)},children:[Object(w.jsx)(L.a.Control,{required:!0,className:"calendar-input",type:"text",placeholder:"L\xe4gg till uppgift..",id:"".concat(a.format("YYYY/MM/DD")),name:"".concat(a.format("DD MMM")),value:i,onChange:function(e){return function(e){e.preventDefault(),o(e.target.value),u(e.target.id),O(e.target.name),p(!1)}(e)}}),Object(w.jsx)(y.a,{type:"submit",hidden:!0,children:"+"})]})})},E=t(32);var B=function(e){var a=e.taskChecked,t=e.taskID,s=e.taskShortDate,n=e.taskName,c=e.userID;return Object(w.jsxs)("div",{className:a?"sidenav-task checked":"sidenav-task",children:[Object(w.jsx)("div",{className:a?"capitalize-first task-name inline-block checked":"capitalize-first task-name inline-block",children:n}),Object(w.jsx)(E.a,{onClick:function(e){return function(e,a,t){e.preventDefault();var s=h.database().ref("react-calendar/app/calendar/".concat(c,"/").concat(a,"/taskChecked"));(!1===t||!0===t)&&s.set(!t)}(e,t,a)},className:a?"task-icon checked check":"task-icon check"}),Object(w.jsx)(E.d,{onClick:function(e){return function(e,a){e.preventDefault(),h.database().ref("react-calendar/app/calendar/".concat(c,"/").concat(a)).remove()}(e,t)},className:"task-icon trash"}),Object(w.jsx)("div",{className:"task-date",children:s})]},t)};O.a.locale("sv");var P=O()().format("YYYYMMDD"),U=function(e,a){if(void 0!==e){var t=e.sort((function(e,a){return new O.a(e.taskDate).format("YYYYMMDD")-new O.a(a.taskDate).format("YYYYMMDD")})).map((function(e,t){return O()(e.taskDate).isBefore(P)?Object(w.jsx)(B,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},t):null}));return Object(w.jsx)(w.Fragment,{children:t})}},q=function(e,a){if(void 0!==e){var t=e.sort((function(e,a){return new O.a(e.taskDate).format("YYYYMMDD")-new O.a(a.taskDate).format("YYYYMMDD")})).map((function(e,t){return O()(e.taskDate).isSame(P)?Object(w.jsx)(B,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},t):null}));return Object(w.jsx)(w.Fragment,{children:t})}},H=function(e,a){if(void 0!==e){var t=e.sort((function(e,a){return new O.a(e.taskDate).format("YYYYMMDD")-new O.a(a.taskDate).format("YYYYMMDD")})).map((function(e,t){return O()(e.taskDate).isAfter(P)?Object(w.jsx)(B,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},t):null}));return Object(w.jsx)(w.Fragment,{children:t})}},K=function(e,a,t){if(void 0!==e){var s=e.sort((function(e,a){return new O.a(e.taskDate).format("YYYYMMDD")-new O.a(a.taskDate).format("YYYYMMDD")})).map((function(e,s){return O()(e.taskDate).isSame(t)?!0===e.taskChecked?Object(w.jsx)("div",{className:"calender-bubble-task",children:Object(w.jsx)(B,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},s)}):void 0:null}));return Object(w.jsx)(w.Fragment,{children:s})}},G=function(e,a,t){if(void 0!==e){var s=e.sort((function(e,a){return new O.a(e.taskDate).format("YYYYMMDD")-new O.a(a.taskDate).format("YYYYMMDD")})).map((function(e,s){return O()(e.taskDate).isSame(t)?!1===e.taskChecked?Object(w.jsx)("div",{className:"calender-bubble-task",children:Object(w.jsx)(B,{userID:a,taskChecked:e.taskChecked,taskName:e.taskName,taskID:e.taskID,taskShortDate:e.taskShortDate},s)}):void 0:null}));return Object(w.jsx)(w.Fragment,{children:s})}};var z=function(e){var a=e.calendarBubble,t=e.showCalendarBubble,s=e.value,n=e.tasks,c=e.userID,r=s.format("YYYYMMDD");return Object(w.jsxs)("div",{className:a?"calendar-bubble is-active":"calendar-bubble",children:[Object(w.jsx)(Y,{className:"calendar",state:a,showState:t}),Object(w.jsxs)("div",{className:"calendar-bubble-content",children:[Object(w.jsx)("h4",{className:"calendar-bubble-date border-bottom-thin",children:new O.a(r).format("DD MMM YYYY")}),Object(w.jsx)("p",{className:"fw-bold calendar-bubble-title",children:"F\xe4rdiga uppgifter f\xf6r dagen:"}),Object(w.jsx)("ul",{className:"calendar-bubble-tasks",children:K(n,c,r)}),Object(w.jsx)("br",{}),Object(w.jsx)("p",{className:"fw-bold calendar-bubble-title",children:"Kvarst\xe5ende uppgifter f\xf6r dagen:"}),Object(w.jsx)("ul",{className:"calendar-bubble-tasks",children:G(n,c,r)})]}),Object(w.jsx)("div",{className:"calender-bubble-footer"})]})};var J=function(e){var a=e.addTask,t=e.tasks,n=e.userID;O.a.locale("sv");var c=Object(s.useState)([]),r=Object(k.a)(c,2),i=r[0],o=r[1],l=Object(s.useState)(O()()),d=Object(k.a)(l,2),b=d[0],u=d[1],j=Object(s.useState)([]),h=Object(k.a)(j,2),m=h[0],v=h[1],x=Object(s.useState)(!0),g=Object(k.a)(x,2),D=(g[0],g[1]),N=Object(s.useState)(null),S=Object(k.a)(N,2),Y=(S[0],S[1]),M=Object(s.useState)(!1),y=Object(k.a)(M,2),C=y[0],L=y[1],E=function(e){L(!C)};return Object(s.useEffect)((function(){return o(I(b)),fetch("https://sholiday.faboul.se/dagar/v2.1/".concat(b.format("YYYY"))).then((function(e){if(e.ok)return e.json();throw e})).then((function(e){D(!1),v(e.dagar)})).catch((function(e){console.error("error",e),Y(e)}))}),[b]),Object(w.jsxs)(f.a,{fluid:!0,className:"calendar-container",children:[Object(w.jsx)(F,{value:b,setValue:u}),Object(w.jsx)("div",{className:"specifik-day",children:Object(w.jsx)(z,{userID:n,tasks:t,value:b,calendarBubble:C,showCalendarBubble:E})}),Object(w.jsxs)(f.a,{fluid:!0,children:[Object(w.jsx)("div",{className:"row calendar-weekday border-right-thin border-left-thin border-bottom-thin border-top-thin",children:["M\xe5n","Tis","Ons","Tors","Fre","L\xf6r","S\xf6n"].map((function(e,a){return Object(w.jsx)("div",{className:"col-sm weekday-day fw-bold",children:e},a)}))}),i.map((function(e,s){return Object(w.jsx)("div",{className:"row calendar-week border-left-bold border-bottom-bold",children:e.map((function(e){return Object(w.jsxs)("div",{id:"".concat(e.format("YYYY/MM/DD")),className:"".concat(T(e)," day col-sm calendar-day border-right-bold"),onClick:function(a){return u(e)},children:[Object(w.jsx)("div",{className:"calendar-menu ",children:Object(w.jsx)(p.c,{onClick:function(e){return E()}})}),Object(w.jsx)("div",{className:"date inline-block fw-bold",children:e.format("D").toString()}),m.map((function(a){return O()(a.datum).isSame(e)?Object(w.jsx)("div",{className:"date holiday ".concat(a["r\xf6d dag"]),children:a.helgdag},e):null})),Object(w.jsx)("div",{className:"calendar-tasks",children:t&&t.map((function(a){return O()(a.taskDate).isSame(e)?Object(w.jsx)(B,{userID:n,taskChecked:a.taskChecked,taskName:a.taskName,taskID:a.taskID,taskShortDate:a.taskShortDate},a.taskID):null}))}),Object(w.jsx)(A,{day:e,value:b,addTask:a})]},"".concat(e.format("YYYY/MM/DD")))}))},s)}))]})]})},Q=t(39),W=t(38),R=t(26),V=t(24),X=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props.theMessage;return Object(w.jsx)("div",{className:"col-12 alert alert-warning error-message",children:e})}}]),t}(s.Component);var Z=function(e){var a=e.handleSubmit,t=e.errorMessage,s=e.email,n=e.setEmail,c=e.password,r=e.setPassword;return Object(w.jsx)(f.a,{children:Object(w.jsxs)("form",{onSubmit:function(e){return a(e)},children:[Object(w.jsxs)(R.a,{children:[Object(w.jsxs)("div",{className:"form-box",children:[Object(w.jsx)(b.b,{className:"form-box-content is-active",to:"/react-calendar/users/login",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(N.b,{className:"form-icon"}),Object(w.jsx)("br",{}),"Logga in"]})}),Object(w.jsx)("div",{className:"form-box-content transparent"}),Object(w.jsx)(b.b,{className:"form-box-content",to:"/react-calendar/users/signup",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(g.a,{className:"form-icon"}),Object(w.jsx)("br",{}),"Skapa konto"]})})]}),Object(w.jsx)(V.a,{required:!0,type:"text",id:"email",placeholder:"E-post",name:"email",value:s,onChange:function(e){return n(e.target.value)}}),Object(w.jsx)(V.a,{required:!0,type:"text",id:"password",placeholder:"L\xf6senord",name:"password",value:c,onChange:function(e){return r(e.target.value)}}),null!==t?Object(w.jsx)(X,{theMessage:t}):null,Object(w.jsx)(y.a,{type:"submit",className:"fw-bold",children:"Logga in"}),Object(w.jsx)("p",{className:"form-or",children:Object(w.jsx)("span",{children:"eller"})}),Object(w.jsxs)(y.a,{className:"fw-bold facebook",children:[Object(w.jsx)(W.a,{className:"btn-icon"})," ","Logga in med Facebook"]}),Object(w.jsxs)(y.a,{className:"fw-bold google",children:[Object(w.jsx)(Q.a,{className:"btn-cion"})," ","Logga in med Google"]})]}),Object(w.jsxs)("p",{children:["Har du inget konto \xe4n?",Object(w.jsx)(b.b,{to:"/react-calendar/users/signup",className:"text-color",children:" Skapa konto"})]})]})})};var $=function(){var e=Object(u.f)(),a=Object(s.useState)(""),t=Object(k.a)(a,2),n=t[0],c=t[1],r=Object(s.useState)(""),i=Object(k.a)(r,2),o=i[0],l=i[1],d=Object(s.useState)(null),b=Object(k.a)(d,2),j=b[0],m=b[1];return Object(w.jsx)(Z,{email:n,setEmail:c,errorMessage:j,password:o,setPassword:l,handleSubmit:function(a){a.preventDefault();var t={email:n,password:o};h.auth().signInWithEmailAndPassword(t.email,t.password).then((function(){e.push("/react-calendar/app/calendar")})).catch((function(e){"There is no user record corresponding to this identifier. The user may have been deleted."===e.message?m("Det finns ingen anv\xe4ndare med den angivna e-postadressen."):"The password is invalid or the user does not have a password."===e.message?m("L\xf6senordet \xe4r ogiligt."):m(null)}))}})};var _=function(e){var a=e.handleSubmit,t=e.email,s=e.errorMessage,n=e.setEmail,c=e.passOne,r=e.setPassOne,i=e.passTwo,o=e.setPassTwo;return Object(w.jsx)(f.a,{children:Object(w.jsxs)("form",{onSubmit:function(e){return a(e)},children:[Object(w.jsxs)(R.a,{children:[Object(w.jsxs)("div",{className:"form-box",children:[Object(w.jsx)(b.b,{className:"form-box-content",to:"/react-calendar/users/login",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(N.b,{className:"form-icon"}),Object(w.jsx)("br",{}),"Logga in"]})}),Object(w.jsx)("div",{className:"form-box-content transparent"}),Object(w.jsx)(b.b,{className:"form-box-content is-active",to:"/react-calendar/users/signup",children:Object(w.jsxs)("div",{className:"fw-bold",children:[Object(w.jsx)(g.a,{className:"form-icon"}),Object(w.jsx)("br",{}),"Skapa konto"]})})]}),Object(w.jsxs)(y.a,{className:"fw-bold facebook",children:[Object(w.jsx)(W.a,{className:"btn-icon"})," ","Forts\xe4tt med Facebook"]}),Object(w.jsxs)(y.a,{className:"fw-bold google",children:[Object(w.jsx)(Q.a,{className:"btn-cion"})," ","Forts\xe4tt med Google"]}),Object(w.jsx)("p",{className:"form-or",children:Object(w.jsx)("span",{children:"eller"})}),Object(w.jsx)(V.a,{required:!0,type:"text",id:"email",placeholder:"E-post",name:"email",value:t,onChange:function(e){return n(e.target.value)}}),Object(w.jsx)(V.a,{required:!0,type:"text",id:"passOne",placeholder:"L\xf6senord",name:"passOne",value:c,onChange:function(e){return r(e.target.value)}}),Object(w.jsx)(V.a,{required:!0,type:"text",id:"passTwo",placeholder:"Upprepa l\xf6senord",name:"passTwo",value:i,onChange:function(e){return o(e.target.value)}}),null!==s?Object(w.jsx)(X,{theMessage:s}):null,Object(w.jsx)(y.a,{type:"submit",className:"fw-bold",children:"Registrera"})]}),Object(w.jsxs)("p",{children:["Har du redan ett konto?",Object(w.jsx)(b.b,{to:"/react-calendar/users/login",className:"text-color",children:" Logga in"})]})]})})};var ee=function(e){var a=e.registerUser,t=Object(u.f)(),n=Object(s.useState)(""),c=Object(k.a)(n,2),r=c[0],i=c[1],o=Object(s.useState)(""),l=Object(k.a)(o,2),d=l[0],b=l[1],j=Object(s.useState)(""),m=Object(k.a)(j,2),O=m[0],f=m[1],v=Object(s.useState)(null),x=Object(k.a)(v,2),p=x[0],g=x[1];return Object(s.useEffect)((function(){d?d.length<6?g("L\xf6senordet b\xf6r inneh\xe5lla minst 6 tecken."):g(O&&d!==O?"L\xf6senorden matchar inte.":null):g(null)}),[d,O]),Object(w.jsx)(_,{email:r,errorMessage:p,setEmail:i,passOne:d,setPassOne:b,passTwo:O,setPassTwo:f,handleSubmit:function(e){e.preventDefault();var s={email:r,password:d};h.auth().createUserWithEmailAndPassword(s.email,s.password).then((function(){console.log("anv\xe4ndare registrerad"),a(t)})).catch((function(e){"The email address is already in use by another account."===e.message?(console.log(e.message),g("E-postadressen anv\xe4nds redan av en annan anv\xe4ndare.")):g(null)}))}})};var ae=function(e,a,t,s){if(void 0!==a)return e.preventDefault(),void t(!s)};var te=function(e){var a=e.sidenav,t=e.tasks,n=e.userID,c=e.user,r=Object(s.useState)(!0),i=Object(k.a)(r,2),o=i[0],l=i[1];O.a.locale("sv");var d=O()().format("DD MMM");return Object(w.jsxs)("div",{className:a?"sidenav":"sidenav is-active",children:[Object(w.jsx)(D.a,{children:Object(w.jsx)(f.a,{fluid:!0,children:Object(w.jsx)(S,{user:c})})}),Object(w.jsxs)("ul",{className:"sidenav-alternatives",children:[Object(w.jsxs)("p",{className:"fw-bold",children:[Object(w.jsx)(E.b,{className:"sidenav-icon"})," Hem"]}),Object(w.jsxs)("p",{className:"fw-bold",children:[Object(w.jsx)(E.c,{className:"sidenav-icon"})," Inkorg"]})]}),Object(w.jsxs)("div",{className:"dropdown",children:[Object(w.jsx)("div",{className:"fw-bold dropdown-category",children:Object(w.jsxs)("div",{className:"nav-link-dropdown",onClick:function(e){return ae(e,t,l,o)},children:[Object(w.jsx)(p.d,{className:"sidenav-icon"}),Object(w.jsx)("p",{className:"inline-block",children:"Mina uppgifter"}),Object(w.jsx)(p.b,{className:o?"sidenav-icon arrow inline-block rotate":"arrow inline-block"})]})}),Object(w.jsx)("ul",{className:o?"dropdown-content hide":"dropdown-content",children:Object(w.jsxs)("div",{className:"list-group list-group-flush",children:[Object(w.jsxs)("div",{className:"sidenav-category previous",children:[Object(w.jsx)("div",{className:"sidenav-title border-bottom-thin fw-bold",children:"F\xf6rfallna"}),Object(w.jsx)("div",{className:"sidenav-tasks",children:U(t,n)})]}),Object(w.jsxs)("div",{className:"sidenav-category",children:[Object(w.jsxs)("div",{className:"sidenav-title border-bottom-thin border-color fw-bold today",children:[d," ","\u2022"," ","Idag"]}),Object(w.jsx)("div",{className:"sidenav-tasks",children:q(t,n)})]}),Object(w.jsxs)("div",{className:"sidenav-category",children:[Object(w.jsx)("div",{className:"sidenav-title border-bottom-thin fw-bold",children:"Kommande"}),Object(w.jsx)("div",{className:"sidenav-tasks",children:H(t,n)})]})]})})]})]})};var se=function(e){Object(l.a)(t,e);var a=Object(d.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).showSidenav=function(){e.setState({sidenav:!e.state.sidenav})},e.addTask=function(a,t,s,n){h.database().ref("react-calendar/app/calendar/".concat(e.state.user.uid)).push({taskName:a,taskDate:t,taskShortDate:s,taskChecked:n})},e.registerUser=function(a){h.auth().onAuthStateChanged((function(t){e.setState({user:t,userID:t.uid}),a.push("/react-calendar/app/calendar")}))},e.logOutUser=function(a,t){a.preventDefault(),e.setState({user:null,userID:null}),h.auth().signOut().then((function(){console.log("utloggad"),console.log(e.state.user),t.push("/react-calendar")}))},e.state={user:null,userID:null,sidenav:!0,loading:!0},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e){return setTimeout((function(){return e()}),2500)})).then((function(){return e.setState({loading:!1})})),h.auth().onAuthStateChanged((function(a){a?(e.setState({user:a,userID:a.uid}),h.database().ref("react-calendar/app/calendar/"+a.uid).on("value",(function(a){var t=a.val(),s=[],n=[];for(var c in t){s.push({taskID:c,taskName:t[c].taskName,taskDate:t[c].taskDate,taskShortDate:t[c].taskShortDate,taskChecked:t[c].taskChecked});var r=O()().format("YYYYMMDD");(O()(t[c].taskDate).isBefore(r)||O()(t[c].taskDate).isSame(r))&&!1===t[c].taskChecked&&n.push({taskChecked:t[c].taskChecked})}e.setState({tasks:s,howManyTasks:n.length})}))):e.setState({user:null})}))}},{key:"render",value:function(){return this.state.loading?null:Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(b.a,{children:Object(w.jsx)(f.a,{fluid:!0,className:"body-container",children:Object(w.jsxs)(v.a,{children:[this.state.user&&Object(w.jsx)(x.a,{xs:this.state.sidenav?"3":"0",className:this.state.sidenav?"sidenav-wrap is-active border-right":"sidenav-wrap not-active",children:Object(w.jsx)(te,{user:this.state.user,tasks:this.state.tasks,userID:this.state.userID,todaysDate:this.state.todaysDate,todaysDateDayAndMonth:this.state.todaysDateDayAndMonth,toggleDropDown:this.toggleDropDown})}),Object(w.jsxs)(x.a,{children:[Object(w.jsx)(M,{path:"/react-calendar/:app?/:app2?",user:this.state.user,logOutUser:this.logOutUser,sidenav:this.state.sidenav,showSidenav:this.showSidenav,howManyTasks:this.state.howManyTasks}),Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{exact:!0,path:"/react-calendar",children:Object(w.jsx)(C,{user:this.state.user})}),Object(w.jsx)(u.a,{path:"/react-calendar/app/calendar",children:Object(w.jsx)(J,{addTask:this.addTask,tasks:this.state.tasks,userID:this.state.userID})}),Object(w.jsx)(u.a,{path:"/react-calendar/users/login",children:Object(w.jsx)($,{})}),Object(w.jsx)(u.a,{path:"/react-calendar/users/signup",children:Object(w.jsx)(ee,{registerUser:this.registerUser})})]})]})]})})})})}}]),t}(s.Component),ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,87)).then((function(a){var t=a.getCLS,s=a.getFID,n=a.getFCP,c=a.getLCP,r=a.getTTFB;t(e),s(e),n(e),c(e),r(e)}))};t(78),t(79),t(80),t(81),t(82);r.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(se,{})}),document.getElementById("root")),ne()}},[[83,1,2]]]);
//# sourceMappingURL=main.0436d5c5.chunk.js.map